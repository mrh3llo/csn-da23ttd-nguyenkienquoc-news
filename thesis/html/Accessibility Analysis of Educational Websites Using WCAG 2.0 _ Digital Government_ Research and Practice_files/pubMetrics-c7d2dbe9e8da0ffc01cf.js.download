(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{994:function(e,t,o){"use strict";o.r(t);var s,i=o(3),n=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),__decorate=function(e,t,o,s){var i,n=arguments.length,l=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,s);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(l=(n<3?i(l):n>3?i(t,o,l):i(t,o))||l);return n>3&&l&&Object.defineProperty(t,o,l),l},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e){function Texts(){return null!==e&&e.apply(this,arguments)||this}return n(Texts,e),Texts}(i.d),r=function(e){function ClassList(){var t=null!==e&&e.apply(this,arguments)||this;return t.show="show",t}return n(ClassList,e),ClassList}(i.d),c=function(e){function Selectors(){var t=null!==e&&e.apply(this,arguments)||this;return t.metricsToggle=new i.e(".metrics-toggle","document"),t.metricsTooltipBody=new i.e(".metrics-tooltip-body","document"),t.focusableElements="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]",t}return n(Selectors,e),Selectors}(i.f),a=function(e){function Elements(){var t=null!==e&&e.apply(this,arguments)||this;return t.metricsToggle=t.domUtils.getElement(t.selectors.metricsToggle.selector),t.metricsTooltipBody=t.domUtils.getElement(t.selectors.metricsTooltipBody.selector),t.metricsTooltipBodyFocusable=Array.prototype.slice.call(t.metricsTooltipBody.querySelectorAll(t.selectors.focusableElements)),t.lastMetricsTooltipBodyFocusable=t.metricsTooltipBodyFocusable[t.metricsTooltipBodyFocusable.length-1],t}return n(Elements,e),Elements}(i.b),u=function(){function PubMetrics(e){this.wrapper=e}return PubMetrics.prototype.initialize=function(){this.addEventListeners()},PubMetrics.prototype.addEventListeners=function(){var e,t,o,s,i,n,l,r,c,a=this;null===(e=this.elements.metricsToggle)||void 0===e||e.addEventListener("focusin",(function(){a.showTooltip()})),null===(t=this.elements.metricsToggle)||void 0===t||t.addEventListener("focusout",(function(e){var t=e.relatedTarget;a.elements.metricsTooltipBody.contains(t)||a.hideTooltip()})),null===(o=this.elements.metricsToggle)||void 0===o||o.addEventListener("mouseenter",(function(){a.showTooltip()})),null===(s=this.elements.metricsToggle)||void 0===s||s.addEventListener("mouseleave",(function(){a.hideTooltip()})),null===(i=this.elements.metricsTooltipBody)||void 0===i||i.addEventListener("mouseenter",(function(e){a.showTooltip()})),null===(n=this.elements.metricsTooltipBody)||void 0===n||n.addEventListener("mouseleave",(function(e){a.hideTooltip()})),null===(l=this.elements.lastMetricsTooltipBodyFocusable)||void 0===l||l.addEventListener("focusout",(function(e){var t=e.relatedTarget;a.elements.metricsTooltipBody.contains(t)||a.hideTooltip()})),null===(r=this.elements.metricsToggle)||void 0===r||r.addEventListener("mouseenter",(function(){a.addAriaExpanded()})),null===(c=this.elements.metricsToggle)||void 0===c||c.addEventListener("mouseleave",(function(){a.removeAriaExpanded()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&a.elements.metricsToggle.classList.contains(a.classList.show)&&(a.hideTooltip(),a.focusNextElement(a.elements.metricsToggle))}))},PubMetrics.prototype.showTooltip=function(){this.elements.metricsToggle.classList.add(this.classList.show),this.addAriaExpanded()},PubMetrics.prototype.hideTooltip=function(){this.elements.metricsToggle.classList.remove(this.classList.show),this.removeAriaExpanded()},PubMetrics.prototype.addAriaExpanded=function(){this.elements.metricsToggle.setAttribute("aria-expanded","true")},PubMetrics.prototype.removeAriaExpanded=function(){this.elements.metricsToggle.setAttribute("aria-expanded","false")},PubMetrics.prototype.focusNextElement=function(e){var t,o,s=Array.prototype.slice.call(document.querySelectorAll(this.selectors.focusableElements)),i=s.indexOf(e);i>-1&&i<s.length-1?null===(t=s[i+this.elements.metricsTooltipBodyFocusable.length+1])||void 0===t||t.focus():i>-1&&i===s.length-1&&(null===(o=s[0])||void 0===o||o.focus())},__decorate([Object(i.i)(),__metadata("design:type",i.a)],PubMetrics.prototype,"browserUtils",void 0),PubMetrics=__decorate([Object(i.c)(c,a,r,l),__metadata("design:paramtypes",[HTMLElement])],PubMetrics)}();t.default=u}}]);
//# sourceMappingURL=pubMetrics-c7d2dbe9e8da0ffc01cf.js.map